(this["webpackJsonpimms-x-dbms-project"]=this["webpackJsonpimms-x-dbms-project"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),l=a.n(i),s=(a(43),a(3)),c=a(4),o=a(7),u=a(5),m=a(6),d=a(2),p=a.n(d),h=a(9),f=a(25),E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout-topbar clearfix"},r.a.createElement("button",{className:"p-link layout-menu-button",onClick:this.props.onToggleMenu},r.a.createElement("span",{className:"menubar"})),r.a.createElement("div",{className:"layout-topbar-icons"},r.a.createElement("span",{className:"layout-topbar-search"},r.a.createElement(f.InputText,{type:"text",placeholder:"Search"}),r.a.createElement("span",{className:"layout-topbar-search-icon pi pi-search"})),r.a.createElement("button",{className:"p-link"},r.a.createElement("span",{className:"layout-topbar-item-text"},"Settings"),r.a.createElement("span",{className:"layout-topbar-icon pi pi-cog"})),r.a.createElement("button",{className:"p-link"},r.a.createElement("span",{className:"layout-topbar-item-text"},"User"),r.a.createElement("span",{className:"layout-topbar-icon pi pi-user"}))))}}]),a}(n.Component);E.defaultProps={onToggleMenu:null};var b=a(12),v=a(15),S=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={activeIndex:null},n}return Object(c.a)(a,[{key:"onMenuItemClick",value:function(e,t,a){if(t.disabled)return e.preventDefault(),!0;t.command&&t.command({originalEvent:e,item:t}),a===this.state.activeIndex?this.setState({activeIndex:null}):this.setState({activeIndex:a}),this.props.onMenuItemClick&&this.props.onMenuItemClick({originalEvent:e,item:t})}},{key:"renderLinkContent",value:function(e){var t=e.items&&r.a.createElement("i",{className:"pi pi-fw pi-angle-down menuitem-toggle-icon"}),a=e.badge&&r.a.createElement("span",{className:"menuitem-badge"},e.badge);return r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:e.icon}),r.a.createElement("span",null,e.label),t,a)}},{key:"renderLink",value:function(e,t){var a=this,n=this.renderLinkContent(e);return e.to?r.a.createElement(v.b,{activeClassName:"active-route",to:e.to,onClick:function(n){return a.onMenuItemClick(n,e,t)},exact:!0,target:e.target},n):r.a.createElement("a",{href:e.url,onClick:function(n){return a.onMenuItemClick(n,e,t)},target:e.target},n)}},{key:"render",value:function(){var e=this,t=this.props.items&&this.props.items.map((function(t,n){var i=e.state.activeIndex===n,l=p()(t.badgeStyleClass,{"active-menuitem":i&&!t.to});return r.a.createElement("li",{className:l,key:n},t.items&&!0===e.props.root&&r.a.createElement("div",{className:"arrow"}),e.renderLink(t,n),r.a.createElement(a,{items:t.items,onMenuItemClick:e.props.onMenuItemClick}))}));return t?r.a.createElement("ul",{className:this.props.className},t):null}}]),a}(n.Component);S.defaultProps={className:null,items:null,onMenuItemClick:null,root:!1};var g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout-menu-container"},r.a.createElement(S,{items:this.props.model,className:"layout-menu",onMenuItemClick:this.props.onMenuItemClick,root:!0}))}}]),a}(n.Component);g.defaultProps={model:null,onMenuItemClick:null};var T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={expanded:!1},e.onClick=e.onClick.bind(Object(o.a)(e)),e}return Object(c.a)(a,[{key:"onClick",value:function(e){this.setState({expanded:!this.state.expanded}),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"layout-profile"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://img.icons8.com/windows/32/000000/gender-neutral-user.png",alt:""})),r.a.createElement("button",{className:"p-link layout-profile-link",onClick:this.onClick},r.a.createElement("span",{className:"username"},this.props.username)),r.a.createElement("ul",{className:p()({"layout-profile-expanded":this.state.expanded})},r.a.createElement("li",null,r.a.createElement("button",{className:"p-link"},r.a.createElement("i",{className:"pi pi-fw pi-user"}),r.a.createElement("span",null,"Account"))),r.a.createElement("li",null,r.a.createElement("button",{className:"p-link"},r.a.createElement("i",{className:"pi pi-fw pi-inbox"}),r.a.createElement("span",null,"Notifications"),r.a.createElement("span",{className:"menuitem-badge"},"2")))))}}]),a}(n.Component),y=Object(h.b)((function(e){return{username:e.auth.username}}),null)(T),C=a(33),k=a(14),j=a(20),O=function(e){return{type:"SET_TEACHER_CLASSES",value:e}},N=function(e){return{type:"SET_TEACHER_INFOBOX",value:e}},x=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("username"),localStorage.removeItem("role"),{type:"AUTH_LOGOUT"}},_=function(e){return{type:"SET_AUTH_REDIRECT",value:e}},w=a(26),D=(a(31),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.infoBox&&this.toast.show({severity:"info",summary:this.props.infoBox.summary,detail:this.props.infoBox.detail}),this.props.setInfoBoxNULL()}},{key:"onCardSelectHandler",value:function(e){this.props.selectCard(e.section_code+"/"+e.subject_code),this.props.setRedirect()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Choose your subject and see Student details."),r.a.createElement(j.Toast,{ref:function(t){return e.toast=t}}),this.props.loading?r.a.createElement("div",{style:{paddingTop:"50px"}},r.a.createElement(w.ProgressSpinner,{style:{width:"100%"}})):r.a.createElement("div",{className:"p-lg-12 p-d-flex p-flex-wrap p-flex-column p-flex-lg-row"},this.props.classes.map((function(t,a){return r.a.createElement(C.Card,{key:a,title:t.subject_code,subTitle:t.title,style:{width:"20em"},className:"p-shadow-8 p-mb-3 p-mr-3",footer:r.a.createElement(k.Button,{style:{width:"100%"},label:"View",onClick:function(){return e.onCardSelectHandler(t)}})},r.a.createElement("span",{style:{margin:"0 1em 0 0"},className:"p-tag p-badge-secondary p-tag-rounded"},t.section_code.slice(0,-2)),r.a.createElement("span",{className:"p-tag p-badge-secondary p-tag-rounded"},t.section_code.slice(-2,-1)),r.a.createElement("p",{className:"p-m-0",style:{lineHeight:"1.5"}}))}))),this.props.redirect)}}]),a}(r.a.Component)),I=Object(h.b)((function(e){return{classes:e.teacher.classes,infoBox:e.teacher.infoBox,redirect:e.auth.redirect,loading:e.teacher.loading}}),(function(e){return{selectCard:function(t){return e(function(e){return{type:"SET_TEACHER_ACTIVE_CLASS",Class:e}}(t))},setInfoBoxNULL:function(){return e(N(null))},setRedirect:function(){return e(_(r.a.createElement(b.a,{to:"/marksview"})))}}}))(D),A=a(27),M=a(13),U=(a(49),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;for(this.props.activeClass||this.props.setInfoBox({summary:"Info Message",detail:"No Active Class Selected!!!"}),this.props.setRedirectNULL(),e=0;e<this.props.classStudentValues.length;e++)if(this.props.classStudentValues[e].classId===this.props.activeClass){this.props.setActiveStudentIndex(e);break}e===this.props.classStudentValues.length&&null!==this.props.activeClass&&fetch("https://still-wildwood-37648.herokuapp.com/api/marks/class/"+this.props.activeClass,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.props.setClassStudentValues({classId:t.props.activeClass,data:e.data}),t.props.setActiveStudentIndex(t.props.classStudentValues.length-1)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.classStudentValues[this.props.classIndex];return r.a.createElement(n.Fragment,null,this.props.infoBox?r.a.createElement(b.a,{to:"/"}):null,this.props.loading?r.a.createElement("div",{style:{paddingTop:"50px"}},r.a.createElement(w.ProgressSpinner,{style:{width:"100%"}})):r.a.createElement(n.Fragment,null,t?r.a.createElement("div",{className:"datatable-editing"},r.a.createElement(j.Toast,{ref:function(t){return e.toast=t}}),r.a.createElement("div",{className:"card"},r.a.createElement("h3",null,"Marks Summary View : Assessment and Practical Marks are NOT Editable"),r.a.createElement(A.DataTable,{value:t.data,header:"Data"},r.a.createElement(M.Column,{field:"username",header:"RollNo"}),r.a.createElement(M.Column,{field:"full_name",header:"Name"}),r.a.createElement(M.Column,{field:"theory_marks",header:"Assessment"}),r.a.createElement(M.Column,{field:"practical_marks",header:"Practical"})))):null))}}]),a}(n.Component)),V=Object(h.b)((function(e){return{activeClass:e.teacher.activeClass,classStudentValues:e.teacher.classStudentValues,classIndex:e.teacher.activeClassStudentValuesIndex,loading:e.teacher.loading,infoBox:e.teacher.infoBox}}),(function(e){return{setRedirectNULL:function(){return e(_(null))},setClassStudentValues:function(t){return e({type:"SET_TEACHER_CLASS_STUDENT_VALUES",value:t})},setActiveStudentIndex:function(t){return e(function(e){return{type:"SET_TEACHER_ACTIVE_CLASS_STUDENT_VALUE_INDEX",value:e}}(t))},setInfoBox:function(t){return e(N(t))}}}))(U),L=a(30),B=a(24),R=a(56),H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).state={data:null},n.toast=null,n.onMarksSubmitHandler=n.onMarksSubmitHandler.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.activeClass?this.setState({data:this.props.classStudentValues[this.props.classIndex].data}):this.props.setInfoBox({summary:"Info Message",detail:"No Active Class Selected!!!"})}},{key:"onEditorValueChange",value:function(e,t,a){var n=Object(B.a)(t.value),r=!1;if(!Object(R.a)(parseInt(a)))return n[t.rowIndex][t.field]=0,void this.setState(Object(L.a)({},"".concat(e),n));switch(t.field){case"theory_marks":r=parseInt(a)>=0&&parseInt(a)<=20;break;case"practical_marks":r=parseInt(a)>=0&&parseInt(a)<=50;break;default:r=!1}r&&(n[t.rowIndex][t.field]=parseInt(a),this.setState(Object(L.a)({},"".concat(e),n)))}},{key:"inputTextEditor",value:function(e,t,a){var n=this;return r.a.createElement(f.InputText,{style:{width:"5em"},type:"number",value:t.rowData[a],onChange:function(a){return n.onEditorValueChange(e,t,a.target.value)}})}},{key:"AssessmentEditor",value:function(e,t){return this.inputTextEditor(e,t,"theory_marks")}},{key:"PracticalEditor",value:function(e,t){return this.inputTextEditor(e,t,"practical_marks")}},{key:"onMarksSubmitHandler",value:function(e){var t=this;e.preventDefault(),this.props.updateValues(this.state.data),fetch("https://still-wildwood-37648.herokuapp.com/api/marks/class/"+this.props.activeClass,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.data)}).then((function(e){return e.json()})).then((function(e){"success"===e.status&&t.toast.show({severity:"info",summary:"Submission Succeded",detail:"The Marks has been Successfully Updated!!!"})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"datatable-editing"},r.a.createElement(j.Toast,{ref:function(t){return e.toast=t}}),this.props.infoBox?r.a.createElement(b.a,{to:"/"}):null,r.a.createElement("div",{className:"card"},r.a.createElement("h3",null,"Marks Editing View : Assessment and Practical Marks are Editable"),r.a.createElement("div",{style:{padding:"10px 0",display:"flex",justifyContent:"flex-end"}},r.a.createElement(k.Button,{label:"Confirm & Submit",onClick:this.onMarksSubmitHandler})),r.a.createElement(A.DataTable,{value:this.state.data,editMode:"cell",className:"editable-cells-table",header:"Data"},r.a.createElement(M.Column,{field:"username",header:"RollNo"}),r.a.createElement(M.Column,{field:"full_name",header:"Name"}),r.a.createElement(M.Column,{field:"theory_marks",header:"Assessment",editor:function(t){return e.AssessmentEditor("data",t)}}),r.a.createElement(M.Column,{field:"practical_marks",header:"Practical",editor:function(t){return e.PracticalEditor("data",t)}}))))}}]),a}(n.Component),F=Object(h.b)((function(e){return{infoBox:e.teacher.infoBox,classStudentValues:e.teacher.classStudentValues,classIndex:e.teacher.activeClassStudentValuesIndex,activeClass:e.teacher.activeClass}}),(function(e){return{setInfoBox:function(t){return e(N(t))},updateValues:function(t){return e(function(e){return{type:"UPDATE_TEACHER_CLASS_STUDENT_VALUES",value:e}}(t))}}}))(H),P=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.resetTeacherState(),fetch("https://still-wildwood-37648.herokuapp.com/api/class/lecture/"+this.props.username,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.props.token}}).then((function(e){return e.json()})).then((function(t){return e.props.onSetClass(t.data)})).catch((function(e){return console.log("Teacher err",e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"layout-main"},r.a.createElement(b.b,{path:"/",exact:!0,component:I}),r.a.createElement(b.b,{path:"/marksview",exact:!0,component:V}),r.a.createElement(b.b,{path:"/marksentry",exact:!0,component:F}))}}]),a}(n.Component),q=Object(h.b)((function(e){return{token:e.auth.token,username:e.auth.username}}),(function(e){return{onSetClass:function(t){return e(O(t))},resetTeacherState:function(){return e({type:"RESET_TEACHER_DEFAULTS"})}}}))(P),X=function(e){return{type:"SET_STUDENT_INFOBOX",value:e}},J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={redirect:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.infoBox&&(console.log("here"),this.toast.show({severity:"info",summary:this.props.infoBox.summary,detail:this.props.infoBox.detail})),this.props.setInfoBoxNULL()}},{key:"onCardSelectHandler",value:function(e){this.props.selectCard(e),this.setState({redirect:r.a.createElement(b.a,{to:"/marksview"})})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Choose your subject and see Student details."),r.a.createElement(j.Toast,{ref:function(t){return e.toast=t}}),this.props.loading?r.a.createElement("div",{style:{paddingTop:"50px"}},r.a.createElement(w.ProgressSpinner,{style:{width:"100%"}})):r.a.createElement("div",{className:"p-lg-12 p-d-flex p-flex-wrap p-flex-column p-flex-lg-row"},this.props.sems.map((function(t,a){return r.a.createElement(C.Card,{key:a,title:"Semester Card",subTitle:"Semester No.",style:{width:"20em"},className:"p-shadow-8 p-mb-3 p-mr-3",footer:r.a.createElement(k.Button,{style:{width:"100%"},label:"View",onClick:function(){return e.onCardSelectHandler(a+1)}})},r.a.createElement("span",{style:{margin:"0 1em 0 0"},className:"p-tag p-badge-secondary p-tag-rounded"},t.value),r.a.createElement("p",{className:"p-m-0",style:{lineHeight:"1.5"}}))}))),this.state.redirect)}}]),a}(r.a.Component),z=Object(h.b)((function(e){return{sems:e.student.sems,infoBox:e.student.infoBox,redirect:e.auth.redirect,loading:e.student.loading}}),(function(e){return{selectCard:function(t){return e(function(e){return{type:"SET_STUDENT_ACTIVE_SEM",value:e}}(t))},setInfoBoxNULL:function(){return e(X(null))}}}))(J),G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;for(null===this.props.activeSem&&this.props.setInfoBox({summary:"Info Message",detail:"No Active Semester Selected!!!"}),e=0;e<this.props.semSubjectValues.length;e++)if(this.props.semSubjectValues[e].sem===this.props.activeSem){this.props.setActiveSemIndex(e);break}e===this.props.semSubjectValues.length&&null!==this.props.activeSem&&fetch("https://still-wildwood-37648.herokuapp.com/api/marks/student/?username="+this.props.username+"&semester="+this.props.activeSem.toString(),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.props.setSemSubjectValues({sem:t.props.activeSem,data:e.data}),t.props.setActiveSemIndex(t.props.semSubjectValues.length-1)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.semSubjectValues[this.props.semIndex];return r.a.createElement(n.Fragment,null,this.props.infoBox?r.a.createElement(b.a,{to:"/"}):null,this.props.loading?r.a.createElement("div",{style:{paddingTop:"50px"}},r.a.createElement(w.ProgressSpinner,{style:{width:"100%"}})):r.a.createElement(n.Fragment,null,t?r.a.createElement("div",{className:"datatable-editing"},r.a.createElement(j.Toast,{ref:function(t){return e.toast=t}}),r.a.createElement("div",{className:"card"},r.a.createElement("h3",null,"Marks Summary View : Assessment and Practical Marks are NOT Editable"),r.a.createElement(A.DataTable,{value:t.data,header:"Data"},r.a.createElement(M.Column,{field:"subject_code",header:"Subject Code"}),r.a.createElement(M.Column,{field:"title",header:"Subject Name"}),r.a.createElement(M.Column,{field:"theory_marks",header:"Assessment"}),r.a.createElement(M.Column,{field:"practical_marks",header:"Practical"})))):null))}}]),a}(n.Component),W=Object(h.b)((function(e){return{activeSem:e.student.activeSem,username:e.auth.username,semSubjectValues:e.student.semSubjectValues,semIndex:e.student.activeSemSubjectValuesIndex,loading:e.student.loading,infoBox:e.student.infoBox}}),(function(e){return{setSemSubjectValues:function(t){return e({type:"SET_STUDENT_SEM_SUBJECT_VALUES",value:t})},setActiveSemIndex:function(t){return e(function(e){return{type:"SET_STUDENT_ACTIVE_SEM_SUBJECT_VALUE_INDEX",value:e}}(t))},setInfoBox:function(t){return e(X(t))}}}))(G),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.resetStudentState(),this.props.setSems([{value:1},{value:2},{value:3},{value:4},{value:5},{value:6},{value:7},{value:8}])}},{key:"render",value:function(){return r.a.createElement("div",{className:"layout-main"},r.a.createElement(b.b,{path:"/",exact:!0,component:z}),r.a.createElement(b.b,{path:"/marksview",exact:!0,component:W}))}}]),a}(n.Component),Y=Object(h.b)((function(e){return{token:e.auth.token,username:e.auth.username}}),(function(e){return{setSems:function(t){return e({type:"SET_STUDENT_SEMS",value:t})},resetStudentState:function(){return e({type:"RESET_STUDENT_DEFAULTS"})}}}))(K),Q=a(8),Z=(a(50),a(99),a(100),a(52)),$=a.n(Z),ee=a(53),te=a(54),ae=a(41),ne=(a(104),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).emptyTeacher={name:"",email:"",contact:"",department:"",status:0},n.state={teachers:null,teacherDialog:!1,deleteTeacherDialog:!1,deleteTeachersDialog:!1,teacher:n.emptyTeacher,selectedTeachers:null,submitted:!1,globalFilter:null},n.departments=[{department:"Electronics & Computer Engineering"},{department:"Civil Engineering"},{department:"Electrical Engineering"}],n.leftToolbarTemplate=n.leftToolbarTemplate.bind(Object(o.a)(n)),n.rightToolbarTemplate=n.rightToolbarTemplate.bind(Object(o.a)(n)),n.actionBodyTemplate=n.actionBodyTemplate.bind(Object(o.a)(n)),n.openNew=n.openNew.bind(Object(o.a)(n)),n.hideDialog=n.hideDialog.bind(Object(o.a)(n)),n.saveTeacher=n.saveTeacher.bind(Object(o.a)(n)),n.editTeacher=n.editTeacher.bind(Object(o.a)(n)),n.confirmDeleteTeacher=n.confirmDeleteTeacher.bind(Object(o.a)(n)),n.deleteTeacher=n.deleteTeacher.bind(Object(o.a)(n)),n.exportCSV=n.exportCSV.bind(Object(o.a)(n)),n.confirmDeleteSelected=n.confirmDeleteSelected.bind(Object(o.a)(n)),n.onInputChange=n.onInputChange.bind(Object(o.a)(n)),n.onCityChange=n.onCityChange.bind(Object(o.a)(n)),n.hideDeleteTeacherDialog=n.hideDeleteTeacherDialog.bind(Object(o.a)(n)),n.hideDeleteTeachersDialog=n.hideDeleteTeachersDialog.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({teachers:[{id:"qweda",name:"Teacher1",email:"qwertyzxc@gmai.com",contact:"9874563210",department:"Electronics & Computer Engineering",status:"online"},{id:"asdaa",name:"Teacher1",email:"fsdfwefrweqc@gmai.com",contact:"98765230140",department:"Electronics & Computer Engineering",status:"online"},{id:"dgsxv",name:"Teacher3",email:"qwertyzxc@gmai.com",contact:"9874563210",department:"Electronics & Computer Engineering",status:"online"},{id:"sfdva",name:"Teacher4",email:"qwertyzxc@gmai.com",contact:"9874563210",department:"Electronics & Computer Engineering",status:"online"},{id:"sdzfa",name:"Teacher5",email:"qwertyzxc@gmai.com",contact:"9874563210",department:"Electronics & Computer Engineering",status:"online"}]})}},{key:"openNew",value:function(){this.setState({teacher:this.emptyTeacher,submitted:!1,teacherDialog:!0})}},{key:"hideDialog",value:function(){this.setState({submitted:!1,teacherDialog:!1})}},{key:"hideDeleteTeacherDialog",value:function(){this.setState({deleteTeacherDialog:!1})}},{key:"hideDeleteTeachersDialog",value:function(){this.setState({deleteTeachersDialog:!1})}},{key:"saveTeacher",value:function(){var e={submitted:!0};if(console.log(this.state.teacher),this.state.teacher.name.trim()){var t=Object(B.a)(this.state.teachers),a=Object(Q.a)({},this.state.teacher);if(this.state.teacher.id)t[this.findIndexById(this.state.teacher.id)]=a,this.toast.show({severity:"success",summary:"Successful",detail:"Teacher Updated",life:3e3});else a.id=this.createId(),a.image="teacher-placeholder.svg",t.push(a),this.toast.show({severity:"success",summary:"Successful",detail:"Teacher Created",life:3e3});e=Object(Q.a)({},e,{teachers:t,teacherDialog:!1,teacher:this.emptyTeacher})}this.setState(e)}},{key:"editTeacher",value:function(e){this.setState({teacher:Object(Q.a)({},e),teacherDialog:!0})}},{key:"confirmDeleteTeacher",value:function(e){this.setState({teacher:e,deleteTeacherDialog:!0})}},{key:"deleteTeacher",value:function(){var e=this,t=this.state.teachers.filter((function(t){return t.id!==e.state.teacher.id}));this.setState({teachers:t,deleteTeacherDialog:!1,teacher:this.emptyTeacher}),this.toast.show({severity:"success",summary:"Successful",detail:"Teacher Deleted",life:3e3})}},{key:"findIndexById",value:function(e){for(var t=-1,a=0;a<this.state.teachers.length;a++)if(this.state.teachers[a].id===e){t=a;break}return t}},{key:"createId",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},{key:"exportCSV",value:function(){this.dt.exportCSV()}},{key:"confirmDeleteSelected",value:function(){this.setState({deleteTeachersDialog:!0})}},{key:"onInputChange",value:function(e,t){var a=e.target&&e.target.value||"",n=Object(Q.a)({},this.state.teacher);n["".concat(t)]=a,this.setState({teacher:n})}},{key:"onCityChange",value:function(e){this.setState({teacher:Object(Q.a)({},this.state.teacher,{department:e.value.department})})}},{key:"leftToolbarTemplate",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.Button,{label:"New",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:this.openNew}))}},{key:"rightToolbarTemplate",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{onFileLoaded:function(e,t){return console.log(e[0])}}),r.a.createElement(k.Button,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:this.exportCSV}))}},{key:"actionBodyTemplate",value:function(e){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.Button,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return t.editTeacher(e)}}),r.a.createElement(k.Button,{icon:"pi pi-briefcase",className:"p-button-rounded p-button-info p-mr-2"}),r.a.createElement(k.Button,{icon:"pi pi-trash",className:"p-button-rounded p-button-danger p-mr-2",onClick:function(){return t.confirmDeleteTeacher(e)}}))}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"table-header"},r.a.createElement("h5",{className:"p-m-0"},"Manage Teachers"),r.a.createElement("span",{className:"p-input-icon-left"},r.a.createElement("i",{className:"pi pi-search"}),r.a.createElement(f.InputText,{type:"search",onInput:function(t){return e.setState({globalFilter:t.target.value})},placeholder:"Search..."}))),a=r.a.createElement(r.a.Fragment,null,r.a.createElement(k.Button,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:this.hideDialog}),r.a.createElement(k.Button,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:this.saveTeacher})),n=r.a.createElement(r.a.Fragment,null,r.a.createElement(k.Button,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:this.hideDeleteTeacherDialog}),r.a.createElement(k.Button,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:this.deleteTeacher}));return r.a.createElement("div",{className:"datatable-crud-demo"},r.a.createElement(j.Toast,{ref:function(t){return e.toast=t}}),r.a.createElement("div",{className:"card"},r.a.createElement(ee.Toolbar,{className:"p-mb-4",left:this.leftToolbarTemplate,right:this.rightToolbarTemplate}),r.a.createElement(A.DataTable,{ref:function(t){return e.dt=t},value:this.state.teachers,dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} teachers",globalFilter:this.state.globalFilter,header:t},r.a.createElement(M.Column,{field:"name",header:"Name",sortable:!0}),r.a.createElement(M.Column,{field:"email",header:"Email"}),r.a.createElement(M.Column,{field:"contact",header:"Phone No"}),r.a.createElement(M.Column,{field:"department",header:"Department"}),r.a.createElement(M.Column,{body:this.actionBodyTemplate}))),r.a.createElement(ae.Dialog,{visible:this.state.teacherDialog,style:{width:"450px"},header:"Teacher Details",modal:!0,className:"p-fluid",footer:a,onHide:this.hideDialog},r.a.createElement("div",{className:"p-field"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement(f.InputText,{id:"name",value:this.state.teacher.name,onChange:function(t){return e.onInputChange(t,"name")},required:!0,autoFocus:!0,className:p()({"p-invalid":this.state.submitted&&!this.state.teacher.name})}),this.state.submitted&&!this.state.teacher.name&&r.a.createElement("small",{className:"p-invalid"},"Name is required.")),r.a.createElement("div",{className:"p-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement(f.InputText,{id:"email",value:this.state.teacher.email,onChange:function(t){return e.onInputChange(t,"email")},required:!0,autoFocus:!0,className:p()({"p-invalid":this.state.submitted&&!this.state.teacher.email})}),this.state.submitted&&!this.state.teacher.email&&r.a.createElement("small",{className:"p-invalid"},"Email is required.")),r.a.createElement("div",{className:"p-field"},r.a.createElement("label",{htmlFor:"comtact"},"Phone No:"),r.a.createElement(f.InputText,{id:"contact",value:this.state.teacher.contact,onChange:function(t){return e.onInputChange(t,"contact")},required:!0,autoFocus:!0,className:p()({"p-invalid":this.state.submitted&&!this.state.teacher.contact})}),this.state.submitted&&!this.state.teacher.contact&&r.a.createElement("small",{className:"p-invalid"},"Contact is required.")),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"department"},"Department"),r.a.createElement(te.Dropdown,{value:{department:this.state.teacher.department},options:this.departments,onChange:this.onCityChange,optionLabel:"department",required:!0,placeholder:"Select a Department"}),this.state.submitted&&!this.state.teacher.department&&r.a.createElement("small",{className:"p-invalid"},"Department is required."))),r.a.createElement(ae.Dialog,{visible:this.state.deleteTeacherDialog,style:{width:"450px"},header:"Confirm",modal:!0,footer:n,onHide:this.hideDeleteTeacherDialog},r.a.createElement("div",{className:"confirmation-content"},r.a.createElement("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),this.state.teacher&&r.a.createElement("span",null,"Are you sure you want to delete ",r.a.createElement("b",null,this.state.teacher.email),"?"))))}}]),a}(n.Component)),re=(a(105),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{class:"additionContainer"}))}}]),a}(n.Component)),ie=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"layout-main"},r.a.createElement(b.b,{path:"/",exact:!0,component:ne}),r.a.createElement(b.b,{path:"/teachersessions",exact:!0,component:re}))}}]),a}(n.Component),le=Object(h.b)((function(e){return{token:e.auth.token,username:e.auth.username}}),(function(e){return{onSetClass:function(t){return e(O(t))},resetTeacherState:function(){return e({type:"RESET_TEACHER_DEFAULTS"})}}}))(ie),se=(a(106),a(107),a(108),a(109),a(34)),ce=a.n(se),oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).onSubmitHandler=n.onSubmitHandler.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"onSubmitHandler",value:function(e){e.preventDefault();var t=document.getElementById("username").value,a=document.getElementById("password").value;this.props.onSignIn(t,a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("img",{src:ce.a,width:"60px",alt:"TU Logo"}),r.a.createElement("h2",null,"IMMS x DBMS"),r.a.createElement("form",{className:"login-form"},r.a.createElement("input",{id:"username",type:"text",placeholder:"username"}),r.a.createElement("input",{id:"password",type:"password",placeholder:"password"}),r.a.createElement("button",{onClick:this.onSubmitHandler},"login"))))}}]),a}(r.a.Component),ue=Object(h.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onSignIn:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"});var n={username:e,password:t};fetch("https://still-wildwood-37648.herokuapp.com/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),localStorage.setItem("id",e.data.user.username),localStorage.setItem("role",["admin","teacher","student"][e.data.user.role]),a(function(e,t,a){return{type:"AUTH_SUCCESS",token:e,username:t,role:a}}(e.token,e.data.user.username,["admin","teacher","student"][e.data.user.role],e.data.user.fullname))})).catch((function(e){a({type:"AUTH_FAIL",error:e})}))}}(t,a))}}}))(oe),me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.resetStudent(),this.props.resetTeacher(),this.props.resetAdmin(),this.props.onLogOut()}},{key:"render",value:function(){return r.a.createElement(b.a,{to:"/"})}}]),a}(n.Component),de=Object(h.b)(null,(function(e){return{resetTeacherState:function(){return e({type:"RESET_TEACHER_DEFAULTS"})},resetStudent:function(){return e({type:"RESET_STUDENT_DEFAULTS"})},resetTeacher:function(){return e({type:"RESET_TEACHER_DEFAULTS"})},resetAdmin:function(){return e({type:"RESET_ADMIN_DEFAULTS"})},onLogOut:function(){return e(x())}}}))(me),pe=(a(110),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={layoutMode:"static",layoutColorMode:"light",staticMenuInactive:!1,overlayMenuActive:!1,mobileMenuActive:!1},e.onWrapperClick=e.onWrapperClick.bind(Object(o.a)(e)),e.onToggleMenu=e.onToggleMenu.bind(Object(o.a)(e)),e.onSidebarClick=e.onSidebarClick.bind(Object(o.a)(e)),e.onMenuItemClick=e.onMenuItemClick.bind(Object(o.a)(e)),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onWrapperClick",value:function(e){this.menuClick||this.setState({overlayMenuActive:!1,mobileMenuActive:!1}),this.menuClick=!1}},{key:"onToggleMenu",value:function(e){if(this.menuClick=!0,this.isDesktop())"overlay"===this.state.layoutMode?this.setState({overlayMenuActive:!this.state.overlayMenuActive}):"static"===this.state.layoutMode&&this.setState({staticMenuInactive:!this.state.staticMenuInactive});else{var t=this.state.mobileMenuActive;this.setState({mobileMenuActive:!t})}e.preventDefault()}},{key:"onSidebarClick",value:function(e){this.menuClick=!0}},{key:"onMenuItemClick",value:function(e){e.item.items||this.setState({overlayMenuActive:!1,mobileMenuActive:!1})}},{key:"createMenu",value:function(){"teacher"===this.props.role?this.menu=[{label:"Teacher Dashboard",icon:"pi pi-fw pi-home",command:function(){window.location="#/"}},{label:"Section Dashboard",icon:"pi pi-fw pi-users",command:function(){window.location="#/marksview"}},{label:"Marks Edit Mode",icon:"pi pi-fw pi-user-edit",command:function(){window.location="#/marksentry"}},{label:"Statistics",icon:"pi pi-fw pi-chart-bar"},{label:"Log Out",icon:"pi pi-fw pi-sign-out",command:function(){window.location="#/logout"}}]:"student"===this.props.role?this.menu=[{label:"Student Dashboard",icon:"pi pi-fw pi-home",command:function(){window.location="#/"}},{label:"Subject Marks",icon:"pi pi-fw pi-users",command:function(){window.location="#/marksview"}},{label:"Log Out",icon:"pi pi-fw pi-sign-out",command:function(){window.location="#/logout"}}]:"admin"===this.props.role&&(this.menu=[{label:"Admin Dashboard",icon:"pi pi-fw pi-home",command:function(){window.location="#/"}},{label:"Teacher Sessions",icon:"pi pi-fw pi-calendar",command:function(){window.location="#/teachersessions"}},{label:"Log Out",icon:"pi pi-fw pi-sign-out",command:function(){window.location="#/logout"}}])}},{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"isDesktop",value:function(){return window.innerWidth>1024}},{key:"componentDidUpdate",value:function(){this.state.mobileMenuActive?this.addClass(document.body,"body-overflow-hidden"):this.removeClass(document.body,"body-overflow-hidden")}},{key:"render",value:function(){var e=this;if(this.props.isAuthenticated){this.createMenu();var t=p()("layout-wrapper",{"layout-overlay":"overlay"===this.state.layoutMode,"layout-static":"static"===this.state.layoutMode,"layout-static-sidebar-inactive":this.state.staticMenuInactive&&"static"===this.state.layoutMode,"layout-overlay-sidebar-active":this.state.overlayMenuActive&&"overlay"===this.state.layoutMode,"layout-mobile-sidebar-active":this.state.mobileMenuActive}),a=p()("layout-sidebar",{"layout-sidebar-light":"light"===this.state.layoutColorMode}),n=null;switch(this.props.role){case"admin":n=r.a.createElement(le,null);break;case"teacher":n=r.a.createElement(q,null);break;case"student":n=r.a.createElement(Y,null);break;default:n=null}return r.a.createElement("div",{className:t,onClick:this.onWrapperClick},r.a.createElement(E,{onToggleMenu:this.onToggleMenu}),r.a.createElement("div",{ref:function(t){return e.sidebar=t},className:a,onClick:this.onSidebarClick},r.a.createElement("div",{className:"layout-logo"},r.a.createElement("img",{alt:"Logo",width:"50px",src:ce.a})),r.a.createElement(y,null),r.a.createElement(g,{model:this.menu,onMenuItemClick:this.onMenuItemClick})),r.a.createElement(b.b,{path:"/logout",exact:!0,component:de}),n,r.a.createElement(b.a,{to:"/"}),r.a.createElement("div",{className:"layout-mask"}))}return r.a.createElement(ue,null)}}]),a}(n.Component)),he=Object(h.b)((function(e){return{role:e.auth.role,isAuthenticated:null!==e.auth.token}}),(function(e){return{}}))(pe),fe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(n.Component),Ee=Object(b.f)(fe),be=a(55),ve=a(28),Se={token:null,username:null,fullname:null,role:null,error:null,loading:!1,redirect:null},ge=function(e,t){return Object(Q.a)({},e,{error:null,loading:!0})},Te=function(e,t){return Object(Q.a)({},e,{token:t.token,username:t.username,fullname:t.fullname,role:t.role})},ye=function(e,t){return Object(Q.a)({},e,{error:t.error,loading:!1})},Ce=function(e,t){return Object(Q.a)({},Se)},ke=function(e,t){return Object(Q.a)({},e,{redirect:t.value})},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ge(e);case"AUTH_SUCCESS":return Te(e,t);case"AUTH_FAIL":return ye(e,t);case"AUTH_LOGOUT":return Ce();case"SET_AUTH_REDIRECT":return ke(e,t);default:return e}},Oe={infoBox:null,activeClass:null,activeClassStudentValuesIndex:null,classes:[],classStudentValues:[],loading:!0},Ne=function(e,t){return Object(Q.a)({},e,{classes:t.value,loading:!1})},xe=function(e,t){return Object(Q.a)({},e,{infoBox:t.value})},_e=function(e,t){return Object(Q.a)({},e,{activeClass:t.Class,loading:!0})},we=function(e,t){return Object(Q.a)({},e,{activeClassStudentValuesIndex:t.value,loading:!1})},De=function(e,t){return Object(Q.a)({},e,{classStudentValues:[].concat(Object(B.a)(e.classStudentValues),[t.value]),loading:!1})},Ie=function(e,t){var a=Object(B.a)(e.classStudentValues);return a[e.activeClassStudentValuesIndex].data=t.value,Object(Q.a)({},e,{classStudentValues:a})},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEACHER_CLASSES":return Ne(e,t);case"SET_TEACHER_INFOBOX":return xe(e,t);case"RESET_TEACHER_DEFAULTS":return Object(Q.a)({},Oe);case"SET_TEACHER_ACTIVE_CLASS":return _e(e,t);case"SET_TEACHER_CLASS_STUDENT_VALUES":return De(e,t);case"UPDATE_TEACHER_CLASS_STUDENT_VALUES":return Ie(e,t);case"SET_TEACHER_ACTIVE_CLASS_STUDENT_VALUE_INDEX":return we(e,t);default:return e}},Me={infoBox:null,loading:!0,activeSem:null,sems:[],semSubjectValues:[],activeSemSubjectValuesIndex:null},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STUDENT_ACTIVE_SEM":return Object(Q.a)({},e,{activeSem:t.value,loading:!0});case"SET_STUDENT_SEMS":return Object(Q.a)({},e,{sems:t.value,loading:!1});case"SET_STUDENT_SEM_SUBJECT_VALUES":return Object(Q.a)({},e,{semSubjectValues:[].concat(Object(B.a)(e.semSubjectValues),[t.value]),loading:!1});case"SET_STUDENT_INFOBOX":return Object(Q.a)({},e,{infoBox:t.value});case"RESET_STUDENT_DEFAULTS":return Object(Q.a)({},Me);case"SET_STUDENT_ACTIVE_SEM_SUBJECT_VALUE_INDEX":return Object(Q.a)({},e,{activeSemSubjectValuesIndex:t.value,loading:!1});default:return e}},Ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d,Le=Object(ve.c)({auth:je,teacher:Ae,student:Ue}),Be=Object(ve.e)(Le,Ve(Object(ve.a)(be.a)));l.a.render(r.a.createElement(h.a,{store:Be},r.a.createElement(v.a,null,r.a.createElement(Ee,null,r.a.createElement(he,null)))),document.getElementById("root"))},34:function(e,t,a){e.exports=a.p+"static/media/tulogo.838d6952.png"},43:function(e,t,a){},49:function(e,t,a){},58:function(e,t,a){e.exports=a(111)}},[[58,1,2]]]);
//# sourceMappingURL=main.dc66dd8c.chunk.js.map